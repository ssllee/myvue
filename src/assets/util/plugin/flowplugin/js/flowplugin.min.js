!function(e){e.fn.flowplugin=function(a){a=e.extend({jsonDate:[],imgPath:"img/",imgType:"png"},a);var t='<div class="flowSwrap"><div class="hidden-line flow-line"></div></div>',n='<div id="CELL_ID" class="flowCell"><div class="cell-center"></div><div class="cell-right"></div></div>';function l(l){if(null!=a.jsonDate&&null!=a.jsonDate.data&&0!=a.jsonDate.data.length){var o,d,c=a.jsonDate.data,s=c.length;l.append(t),e.each(c,function(t,l){var i=void 0==l.createDate||null==l.createDate?"":l.createDate,o=void 0==l.jobName||null==l.jobName?"":l.jobName,d=void 0==l.jobOther||null==l.jobOther?"":l.jobOther.split(/,/),c=void 0==l.jobImgName||null==l.jobImgName||""==l.jobImgName?"f1":l.jobImgName,s=a.imgPath+c+"."+a.imgType,p="cell_"+t,r=n.replace("CELL_ID",p);e(".flowSwrap").append(r);var h='<img id="img'+t+'" src="'+s+'"/>';e("#"+p+" .cell-center").append(h);var v=0==t?'<p class="t1_start">'+o+"</p>":'<p class="t1">'+o+"</p>",f=e("#"+p+" .cell-right");f.append(v),e.each(d,function(e,a){var t='<p class="t2">'+a+"</p>";f.append(t)});f.append('<p class="t3">'+i+"</p>"),0==t?f.addClass("fc-orange"):f.addClass("fc-grey")}),s>1&&(d=e(".cell-center img")).length>1&&e.each(d,function(a,t){var n=t.id;0!=a&&function(a,t,n){var l=document.createElement("div");e(l).addClass("flow-line");var i=e(".hidden-line").width(),o=t.y-n.y-n.h,d=n.y+n.h,c=n.x+n.w/2-i/2;e(l).css({position:"absolute",height:o,top:d,left:c}),e(l).appendTo(a)}(".flowSwrap",i(n),o),o=i(n)})}}function i(a){return{x:e("#"+a).position().left,y:e("#"+a).position().top,w:e("#"+a).width(),h:e("#"+a).height()}}return e.each(this,function(){l(e(this))})}}(jQuery);